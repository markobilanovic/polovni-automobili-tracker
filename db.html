<html>
<head>
    <script>
        function executeQuery() {
            var query = document.getElementById("query").value;
            if (!query) {
                return;
            }

            const data = {
                query,
            }

            fetch("/executeQuery", {
                method: "POST",
                headers: {'Content-Type': 'application/json'}, 
                body: JSON.stringify(data)
            })
            .then((res) => {
                var form = document.getElementById("queryForm");
                form.reset();
                console.log("Request complete! response:", res);
                alert("Executed!", res);
            });
        }
    </script>
</head>

<body>
    <form id="queryForm" action="javascript:executeQuery()">
        <fieldset>
        <label>Query</label>
        <textarea type="text" id='query' name="query" required></textarea>
        <br>
        <br>
        <button type="submit">Execute Query</button>
        </fieldset>
    </form>

</body>
</html>